<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="ä¸æ±‚æ·±åˆ»,ä½†æ±‚ç®€å•."><title>iOS ç”¨ debugserver + lldb è¿›è¡ŒåŠ¨æ€è°ƒè¯• | ä¸€æœµè¥¿å…°èŠ±</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/rss+xml" href="/rss2.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">iOS ç”¨ debugserver + lldb è¿›è¡ŒåŠ¨æ€è°ƒè¯•</h1><a id="logo" href="/.">ä¸€æœµè¥¿å…°èŠ±</a><p class="description">ä¸æ±‚æ·±åˆ»,ä½†æ±‚ç®€å•.</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">iOS ç”¨ debugserver + lldb è¿›è¡ŒåŠ¨æ€è°ƒè¯•</h1><div class="post-meta">Aug 15, 2016<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2016/08/15/iOS_debugserver_lldb/" href="/2016/08/15/iOS_debugserver_lldb/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p>å› ä¸º Cycript æš‚æ—¶è¿˜ä¸æ”¯æŒ iOS 9.3.3ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥ç”¨ debugserver + lldb å¯¹ App è¿›è¡ŒåŠ¨æ€è°ƒè¯•~</p>
<h3 id="u73AF_u5883_u51C6_u5907"><a href="#u73AF_u5883_u51C6_u5907" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h3><h4 id="debugserver"><a href="#debugserver" class="headerlink" title="debugserver"></a>debugserver</h4><p>iOS ä¸Šå¹¶æ²¡æœ‰å®‰è£… debugserverï¼Œåœ¨è®¾å¤‡ç¬¬ä¸€æ¬¡è¿æ¥ Xcode æ—¶ä¼šå®‰è£…åˆ° iOS çš„ <code>/Developer/usr/bin/</code> ç›®å½•ä¸‹ã€‚ debugserver ä½œä¸ºè¿è¡Œåœ¨ iOS ä¸Šçš„ lldb æœåŠ¡ç«¯ï¼Œæ‰§è¡Œ Mac ä¸Šçš„ lldb ä¼ è¿‡æ¥çš„å‘½ä»¤ï¼Œå†æŠŠæ‰§è¡Œç»“æœè¿”å›ç»™ Mac ä¸Šçš„ lldb å¹¶æ˜¾ç¤ºç»™ç”¨æˆ·ã€‚</p>
<p><strong>å¯¼å‡º debugserver</strong></p>
<p>è®°å¾—è¦å…ˆè¿æ¥ä¸€æ¬¡ Xcode å“¦~</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp root@[è¶Šç‹±è®¾å¤‡ <span class="constant">IP </span>åœ°å€]<span class="symbol">:/Developer/usr/bin/debugserver</span> ~<span class="regexp">/debugserver</span></span><br></pre></td></tr></table></figure>
<p>å»é™¤ä¸€äº› arm æŒ‡ä»¤é›†</p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lipo -thin <span class="string">[è¶Šç‹±è®¾å¤‡çš„ arm æŒ‡ä»¤é›†]</span> ~/debugserver -output ~/debugserver</span><br></pre></td></tr></table></figure>
<p>è¯¦æƒ…è¯·çœ‹ï¼š</p>
<blockquote>
<p>armv6 è®¾å¤‡ï¼š iPhone, iPhone2, iPhone3G, ç¬¬ä¸€ä»£ã€ç¬¬äºŒä»£ iPod Touch</p>
<p>armv7 è®¾å¤‡ï¼š iPhone3GS, iPhone4, iPhone4S iPad, iPad2, iPad3(The New iPad), iPad mini iPod Touch 3G, iPod Touch4</p>
<p>armv7sè®¾å¤‡ï¼š iPhone5, iPhone5C, iPad4(iPad with Retina Display)</p>
<p>arm64 è®¾å¤‡ï¼š iPhone5S, iPad Air, iPad mini2(iPad mini with Retina Display)</p>
</blockquote>
<p><strong>debugserver æ·»åŠ æƒé™</strong><br>ä¸‹è½½ <a href="http://7xibfi.com1.z0.glb.clouddn.com/uploads/default/668/c134605bb19a433f.xml" target="_blank" rel="external">ent.xml</a> ä¿®æ”¹å‘½åå“¦è®°å¾—~ æ”¾åˆ°å’Œ debugserver åŒçº§ç›®å½•ä¸‹ã€‚</p>
<p>å†ä¸‹è½½ <a href="http://joedj.net/ldid" target="_blank" rel="external">ldid</a> æ”¾åˆ° <code>/opt/theos/bin/ldid</code> ç›®å½•ä¸‹ï¼Œå¦‚æœæ²¡æœ‰æ–‡ä»¶å¤¹ï¼Œè‡ªå·±æ‰‹åŠ¨åˆ›å»ºå“¦~<br>æ¥ç€æ„‰å¿«çš„æ‰§è¡Œä¸€ä¸‹</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/opt/theos/bin/ldid -Sent.<span class="keyword">xml</span> <span class="title">debugserver</span></span><br></pre></td></tr></table></figure>
<p>ä¸å‡ºæ„å¤–ç¨ä½œç­‰å¾…å°±å¯ä»¥äº†å“Ÿ~ æ¥ç€ç”¨ <code>scp</code> æ‹·å›æ‰‹æœºç›®å½• <code>/usr/bin/debugserver</code> æ³¨æ„ä¸æ˜¯ <code>/Developer</code> ä¸‹å“Ÿ~</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp ~<span class="regexp">/debugserver root@[è¶Šç‹±è®¾å¤‡ IP åœ°å€]:/usr</span><span class="regexp">/bin/debugserver</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ç”¨ <code>SSH</code> è¿ä¸Šè¶Šç‹±è®¾å¤‡åæ·»åŠ æƒé™</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x <span class="regexp">/usr/</span>bin<span class="regexp">/debugserver</span></span><br></pre></td></tr></table></figure>
<h4 id="u5728_iOS__u4E0A_u8FD0_u884C_debugserver"><a href="#u5728_iOS__u4E0A_u8FD0_u884C_debugserver" class="headerlink" title="åœ¨ iOS ä¸Šè¿è¡Œ debugserver"></a>åœ¨ iOS ä¸Šè¿è¡Œ debugserver</h4><p>å¼€ä¸ªæœåŠ¡æµ‹è¯•æµ‹è¯•ä¸€ä¸‹ debugserver æ˜¯ä¸æ˜¯å·²ç»å®‰è£…æˆåŠŸäº†ï¼Œåœ¨ 1234 è¿™ä¸ªç«¯å£ä¸Šç›‘å¬ <code>SpringBoard</code>(iOS çš„æ¡Œé¢) è¿™ä¸ªè¿›ç¨‹</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">debugserver *:<span class="number">1234</span> -<span class="tag">a</span> <span class="string">"SpringBoard"</span></span><br></pre></td></tr></table></figure>
<p>å‡ºç°è¿™ä¸ªæ­å–œä½ æˆåŠŸå•¦~</p>
<p><img src="https://raw.githubusercontent.com/broccolii/broccolii.github.io/master/images/iOS_debugserver_lldb/debugserver_springboard.png" alt=""></p>
<p>æ–°å¼€ä¸€ä¸ªç»ˆç«¯çª—å£è¿›å…¥ <code>lldb</code>ï¼Œ å¹¶æ‰§è¡Œ <code>process connect connect://[è¶Šç‹±è®¾å¤‡ IP åœ°å€]:1234</code></p>
<p><img src="https://raw.githubusercontent.com/broccolii/broccolii.github.io/master/images/iOS_debugserver_lldb/process_connect.png" alt=""></p>
<p>åœ¨åˆšåˆšçš„ debugserver ä¸‹å¤šäº†ä¸€è¡Œ</p>
<p><img src="https://raw.githubusercontent.com/broccolii/broccolii.github.io/master/images/iOS_debugserver_lldb/debugserver_springboard_connect.png" alt=""></p>
<p>è¿™ä¸ªæ—¶å€™ä½ å°±å·²ç»å¯ä»¥ä½¿ç”¨ lldb è°ƒè¯• <code>SpringBoard</code> å•¦ã€‚<br>è¿™é‡Œå¯èƒ½éœ€è¦å­¦ä¹ ä¸€ä¸‹ lldb çš„çŸ¥è¯†ï¼Œå°±å¯ä»¥æ„‰å¿«çš„ç©è€å•¦ï¼~~ ä¸è¯´å•¦ğŸ™Š æˆ‘å»è¡¥ä¹ ä¸€ä¸‹ <code>lldb</code> çš„å‘½ä»¤ã€‚</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://broccolii.github.io/2016/08/15/iOS_debugserver_lldb/" data-id="ciyreuys0000buq20elc6ayya" class="article-share-link">åˆ†äº«åˆ°</a><div class="tags"><a href="/tags/lldb/">lldb</a></div><div class="post-nav"><a href="/2016/08/12/iOS_class_dump_class_info/" class="next">iOS ä½¿ç”¨ class-dump åˆ†æ App ç±»ä¿¡æ¯</a></div><div id="disqus_thread"><script>var disqus_shortname = 'broccoliii';
var disqus_identifier = '2016/08/15/iOS_debugserver_lldb/';
var disqus_title = 'iOS ç”¨ debugserver + lldb è¿›è¡ŒåŠ¨æ€è°ƒè¯•';
var disqus_url = 'http://broccolii.github.io/2016/08/15/iOS_debugserver_lldb/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//broccoliii.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><input placeholder="Search" type="text" class="st-default-search-input"/></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/Swift/" style="font-size: 15px;">Swift</a> <a href="/tags/macOS/" style="font-size: 15px;">macOS</a> <a href="/tags/Framework/" style="font-size: 15px;">Framework</a> <a href="/tags/lldb/" style="font-size: 15px;">lldb</a> <a href="/tags/Debug/" style="font-size: 15px;">Debug</a> <a href="/tags/Database/" style="font-size: 15px;">Database</a> <a href="/tags/class-dump/" style="font-size: 15px;">class_dump</a> <a href="/tags/RunLoop/" style="font-size: 15px;">RunLoop</a> <a href="/tags/CoreSpotlight/" style="font-size: 15px;">CoreSpotlight</a> <a href="/tags/3DTouch/" style="font-size: 15px;">3DTouch</a> <a href="/tags/Chrome/" style="font-size: 15px;">Chrome</a> <a href="/tags/UITableView/" style="font-size: 15px;">UITableView</a> <a href="/tags/Thread/" style="font-size: 15px;">Thread</a> <a href="/tags/ReactiveCocoa/" style="font-size: 15px;">ReactiveCocoa</a> <a href="/tags/RaspberryPi/" style="font-size: 15px;">RaspberryPi</a> <a href="/tags/Merlin/" style="font-size: 15px;">Merlin</a> <a href="/tags/Objective-C/" style="font-size: 15px;">Objective-C</a> <a href="/tags/Runtime/" style="font-size: 15px;">Runtime</a> <a href="/tags/Block/" style="font-size: 15px;">Block</a> <a href="/tags/LeetCode/" style="font-size: 15px;">LeetCode</a> <a href="/tags/Alamofire/" style="font-size: 15px;">Alamofire</a> <a href="/tags/GCD/" style="font-size: 15px;">GCD</a> <a href="/tags/CocoaPods/" style="font-size: 15px;">CocoaPods</a> <a href="/tags/Alfred/" style="font-size: 15px;">Alfred</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€æ–°æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/08/15/iOS_debugserver_lldb/">iOS ç”¨ debugserver + lldb è¿›è¡ŒåŠ¨æ€è°ƒè¯•</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/12/iOS_class_dump_class_info/">iOS ä½¿ç”¨ class-dump åˆ†æ App ç±»ä¿¡æ¯</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/11/macOS_AutoScript/">macOS æ‰§è¡Œå®šæ—¶è„šæœ¬</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/09/R6300_v2_Merlin/">ç½‘ä»¶ R6300 V2 åˆ·æ¢…æ—å›ºä»¶</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/10/Raspberry_Pi_start/">ä¸Šæ‰‹ Raspberry Pi</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/08/LeetCode_first_day/">LeetCode åˆ·é¢˜ï¼ˆä¸€ï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/07/Learning_Swift_from_Alamofire_source/">ä» Alamofire æºç å­¦ä¹  Swift</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/03/GCD_dispatch_semaphore/">GCD ä¸­çš„ dispatch_semaphore</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/16/Swift_algorithm/">Swift ä¸­ç®€å•çš„ç®—æ³•é¢˜</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/iOS_debug/">iOS å¼€å‘ä¸­çš„è°ƒè¯•å°æŠ€å·§</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> æœ€è¿‘è¯„è®º</i></div><script type="text/javascript" src="//broccoliii.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> å‹æƒ…é“¾æ¥</i></div><ul></ul><a href="http://qbeenslee.com/" title="qbeenslee" target="_blank">qbeenslee</a><ul></ul><a href="http://wuqiuhao.github.io/" title="qiuhao" target="_blank">qiuhao</a><ul></ul><a href="http://zeeyang.com/" title="zeeyang" target="_blank">zeeyang</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Â© <a href="/." rel="nofollow">ä¸€æœµè¥¿å…°èŠ±.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','UKkneeeyb79HvjysWVot','2.0.0');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?64b81a3596d6c5ec76f245076ec9bd2a";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>